import{c as M}from"./config-Yzh8Z29m.js";import{_ as j,r as I,c as v,b as d,t as V,d as S,e as _,F as L,f as T,w as P,o as f,g as x,h as N,i as E,p as z,j as H}from"./index-Dv36WFzv.js";const O={components:{},data(){return{name:"Gourav Kumar",signatureLink:"[PCPTCleaner](https://pcptcleaner.github.io)",repeatRam:!1,removeSource:!1,textarea:"",outputDict:[],outputMd:"",pcptLink:"",tableHeader:[],newCellValue:"",editingCell:{editing:!1,value:"",rowId:-1,link:""},itemMap:M.itemMap,unwantedWords:M.unwantedWords,commonLongWordReplacements:M.commonLongWordReplacements}},methods:{isAlphaNumeric(e){return/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)/.test(e)},lenSansSymbols(e){return Array.from(e).filter(l=>/[a-zA-Z0-9]/.test(l)).length},smartCapitalize(e){if(e.includes(" "))throw new Error("Argument contains spaces. Pass only one word at a time");const i=Array.from("./-").map(o=>[o,e.includes(o)]);for(let[o,r]of i)r&&(e=e.split(o).map(this.smartCapitalize).join(o));if(i.some(([o,r])=>r))return e;const s="aeiou";let t;if(e.length<5){const o=Array.from(e).filter(r=>s.includes(r)).length;o===1&&(s.includes(e[0])||s.includes(e[e.length-1]))||o===0?t=e.toUpperCase():t=e.charAt(0).toUpperCase()+e.slice(1)}else this.isAlphaNumeric(e)?t=e.toUpperCase():t=e.charAt(0).toUpperCase()+e.slice(1);return t},removeBrackets(e){let l=[],i=[];for(let t=0;t<e.length;t++)e[t]==="("?l.push(t):e[t]===")"&&i.push(t);if(l.length!==i.length)return console.log("Failure"),e;l.reverse(),i.reverse();let s=l.map((t,o)=>[t,i[o]]);for(let[t,o]of s)e=(e.slice(0,t).trim()+" "+e.slice(o+1).trim()).trim();return e},cleanMarkup(e){var A;let i=e.split(`
`).filter(n=>n),s=0,t="";for(var o=0;o<4;o++)i[o].includes("](")&&(this.pcptLink=i[o],t=i[o]),i[o].includes("|")||(s+=1);let r=i[s].split("|");r[0]="Item";let k=i.slice(s+2);console.log(k);let a=k.map(n=>{let C=n.split("|"),c={};return r.forEach((b,h)=>{var w;c[b]=(w=C[h])==null?void 0:w.trim()}),c}).filter(n=>n.Selection.trim());console.log(a);for(let n of a){let C=(A=n.Selection)==null?void 0:A.split("]"),c=this.removeBrackets(C[0].substring(1).toLowerCase());c=c.split(" ").filter(h=>{var w;return!((w=this.unwantedWords)!=null&&w.includes(h))}).slice(0,8).join(" "),c=c.split(" ").filter(h=>this.lenSansSymbols(h)<=12||!this.isAlphaNumeric(h)).map(h=>this.smartCapitalize(h)).join(" ");for(let[h,w]of Object.entries(this.commonLongWordReplacements))c=c.replace(h,w);n.Selection=`[${c}]${C[1]}`,n.Item=this.itemMap[n.Item]||n.Item,n.Source=n.Source.split(" ")[0]}if(this.repeatRam){let n=a.map((c,b)=>[b,c]).filter(([c,b])=>b.Item==="RAM"),C={...n[0][1]};C.Item="RAM2",a.splice(n[0][0]+1,0,C)}let u=a.reduce((n,C)=>n+parseInt(C.Price),0),p=`**Total**|${this.removeSource?"":"|"}|**${u}**`;this.removeSource&&a.forEach(n=>delete n.Source);let m=[],y=Object.keys(a[0]);m.push(y.join("|"));let g="----|----|----"+(this.removeSource?"":"|----");m.push(g);for(let n of a)m.push(Object.values(n).join("|"));m.push(p);let R=t+`
`+m.join(`
`);return this.pcptLink=t,R},linkifyMarkdown(e){if(e.includes("log")&&console.log(e),e.indexOf("](")===-1)return"<p>"+e+"</p>";var l=e.split("]("),i=l[1].slice(0,-1),s=l[0].slice(1);return`<a href="${i}">${s}</a>`},doNothing(e){return console.log("doNothing called"),this.textarea===""?null:(this.outputMd=this.cleanMarkup(this.textarea),this.mdToDict(this.outputMd),e)},mdToDict(e){if(e==="")return null;let l=e.split(`
`);for(var i=0,s=0;s<4;s++)l[s].includes("|")||(i+=1);let t=l[i].split("|");this.tableHeader=t;let o=l.slice(i+2).map(r=>{let k=r.split("|"),a={};return t.forEach((u,p)=>{var m;a[u]=(m=k[p])==null?void 0:m.trim()}),a});this.outputDict=o},dictToMd(e){let l=Object.keys(e[0]),i=l.join("|"),s="----|",t=s.repeat(l.length-1)+s.slice(0,-1);this.outputMd=i+`
`,this.outputMd+=t+`
`,e.forEach(o=>{this.outputMd+=Object.values(o).join("|")+`
`})},mdProcessor(e){if(typeof e>"u")return null;if(e.startsWith("**")&&(e!=null&&e.endsWith("**")))return e=e.replaceAll("**",""),`<p style="font-weight: bold;">${e}</p>`;if(e.indexOf("](")!=-1){var l=e.split("]("),i=l[1].slice(0,-1),s=l[0].slice(1);return`<a href="${i}">${s}</a>`}return"<p>"+e+"</p>"},handleEdit(e){console.log(this.outputDict[e].Selection);var l=this.outputDict[e].Selection;this.editingCell.value=l.slice(1,l.indexOf("]")),this.editingCell.link=l.slice(l.indexOf("(")+1,-2),this.editingCell.editing=!0,this.editingCell.rowId=e,this.newCellValue=this.editingCell.value},handleEditDone(){var e=this.editingCell.rowId;this.outputDict[e].Selection=`[${this.newCellValue}](${this.editingCell.link})`,this.newCellValue="",this.editingCell.editing=!1,this.dictToMd(this.outputDict)},copyTextNoInput(){console.log("copy called"),this.dictToMd(this.outputDict);const e=document.createElement("textarea");e.value=this.pcptLink+`

`,e.value+=this.outputMd,e.value+=`
Made with `+this.signatureLink,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(e)}},computed:{}},D=e=>(z("data-v-f239d8a9"),e=e(),H(),e),U=D(()=>d("h2",null,"This is PCPT page",-1)),W=D(()=>d("br",null,null,-1)),B=D(()=>d("br",null,null,-1)),K=["innerHTML"],F={class:"mt-10"},Z=["innerHTML"],G=["onClick"],q=["innerHTML"];function J(e,l,i,s,t,o){const r=I("el-input"),k=I("el-switch"),a=I("el-button");return f(),v("div",null,[U,d("p",null,"Welcome "+V(t.name),1),S(r,{modelValue:t.textarea,"onUpdate:modelValue":l[0]||(l[0]=u=>t.textarea=u),style:{width:"600px"},rows:12,type:"textarea",placeholder:"Type something",name:"rawInput",onInput:o.doNothing},null,8,["modelValue","onInput"]),W,S(k,{modelValue:t.repeatRam,"onUpdate:modelValue":l[1]||(l[1]=u=>t.repeatRam=u),size:"small",onChange:o.doNothing},null,8,["modelValue","onChange"]),_(" Repeat RAM "),S(k,{modelValue:t.removeSource,"onUpdate:modelValue":l[2]||(l[2]=u=>t.removeSource=u),size:"small",onChange:o.doNothing},null,8,["modelValue","onChange"]),_(" Remove Source "),B,d("div",{innerHTML:o.mdProcessor(t.pcptLink)},null,8,K),d("table",F,[d("thead",null,[d("tr",null,[(f(!0),v(L,null,T(t.tableHeader,(u,p)=>(f(),v("th",{key:p},V(u),1))),128))])]),(f(!0),v(L,null,T(t.outputDict,(u,p)=>(f(),v("tr",{key:p},[(f(!0),v(L,null,T(u,(m,y)=>(f(),v("td",{key:p+"-"+y},[!t.editingCell.editing||t.editingCell.rowId!==p||y!=="Selection"?(f(),v("span",{key:0,innerHTML:o.mdProcessor(m)},null,8,Z)):x("",!0),t.editingCell.editing&&t.editingCell.rowId===p&&y==="Selection"?(f(),N(r,{key:1,size:"small",modelValue:t.newCellValue,"onUpdate:modelValue":l[3]||(l[3]=g=>t.newCellValue=g),onKeypress:E(o.handleEditDone,["enter"]),id:"edit-cell-"+p},null,8,["modelValue","onKeypress","id"])):x("",!0),y==="Selection"&&!t.editingCell.editing?(f(),v("span",{key:2,onClick:g=>o.handleEdit(p),class:"edit-button"},"edit ",8,G)):x("",!0)]))),128))]))),128))]),d("div",null,[_(" Mobile friendly table made with "),d("span",{innerHTML:o.mdProcessor(t.signatureLink)},null,8,q)]),S(a,{type:"primary",onClick:o.copyTextNoInput},{default:P(()=>[_("Copy")]),_:1},8,["onClick"]),d("div",null,V(t.outputMd),1)])}const Y=j(O,[["render",J],["__scopeId","data-v-f239d8a9"]]);export{Y as default};
